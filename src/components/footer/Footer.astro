---
import SiteLogo from "@/components/site-logo/SiteLogo.astro";
import SocialIcon from "@/components/social-icon/SocialIcon.astro";
import { getLocaleFromUrl } from "@/js/localeUtils";
import { getTranslatedData } from "@/js/translationUtils";

import logo from "@images/logonav.png";

import FooterLink from "./FooterLink.astro";

const currLocale = getLocaleFromUrl(Astro.url);
const siteData = getTranslatedData("siteData", currLocale);
const today = new Date();

/**
 * Footer columns and links configuration
 * Edit this object to change column titles and links.
 */
const footerColumns = [
	{
		title: "Navegación rápida",
		links: [
			{ label: "Inicio", href: "#" },
			{ label: "Servicios", href: "#services-cards" },
			{ label: "Tratamientos", href: "#tratamientos-section" },
			{ label: "¿Quienes somos?", href: "#quienes-somos" },
			{ label: "Testimonios", href: "#testimonios" },
			{ label: "Contacto", href: "#" },
		],
	},
	{
		title: "Dirección",
		links: [
			{ label: "Av. Vicente Guerrero 109, Colonia Centro, CP. 4000, Iguala de la Independencia, Guerrero.", href: "https://www.google.com/maps/place/Rehabilita+Sport/@18.3431358,-99.5320757,19.75z/data=!4m6!3m5!1s0x85cc386f9ac86a9b:0x32fce6d1b9324e3d!8m2!3d18.3434475!4d-99.5317962!16s%2Fg%2F11f10pc45r?entry=tts&g_ep=EgoyMDI1MDIwNC4wIPu8ASoASAFQAw%3D%3D" },
		],
	},
];
---

<section
	class="from-primary-500/20 to-background overflow-hidden rounded-t-2xl bg-gradient-to-b pt-16 pb-10 md:rounded-t-3xl px-10"
>
	<div class="site-container">
		<div class="border-b pb-16">
			<div class="-m-8 flex flex-wrap">
				<!-- Columna 1: Logo y redes -->
				<div class="w-full p-8 sm:w-1/2 lg:w-1/3">
					<div class="lg:max-w-sm">
						<img
							src={logo.src}
							alt="Logo Rehabilita Sport"
							class="rounded-lg w-96"
						/>
						<p class="text-muted-foreground mt-4 leading-relaxed font-medium">
							Agradecemos tu visita a nuestra página. Síguenos en nuestras redes sociales.
						</p>
						<div class="mt-6 flex gap-4">
							<SocialIcon href="https://twitter.com/BowTiedWebReapr" icon="tabler/brand-x" social="Twitter" />
							<SocialIcon href="https://www.threads.com/@bowtiedwebreaper" icon="tabler/brand-threads" social="Threads" />
							<SocialIcon href="https://www.instagram.com" icon="tabler/brand-instagram" social="Instagram" />
						</div>
					</div>
				</div>

				<!-- Columna 2: Enlaces -->
				<div class="w-full p-8 sm:w-1/2 lg:w-1/3">
					<div class="grid grid-cols-2 gap-8">
						{footerColumns.map((col) => (
							<div aria-label={col.title}>
								<h3 class="font-heading mb-4 text-sm font-semibold uppercase">{col.title}</h3>
								<ul class="space-y-2">
									{col.links.map((link) => (
										<FooterLink label={link.label} href={link.href} />
									))}
								</ul>
							</div>
						))}
					</div>
				</div>

				<!-- Columna 3: Mapa -->
				<div class="w-full p-8 lg:w-1/3">
					<h3 class="font-heading mb-4 text-sm font-semibold uppercase">Ubicación</h3>
					<div class="rounded-lg overflow-hidden shadow-lg aspect-video">
						<iframe
							src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d812.4000392052193!2d-99.5320757!3d18.3431358!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85cc386f9ac86a9b%3A0x32fce6d1b9324e3d!2sRehabilita%20Sport!5e1!3m2!1ses-419!2smx!4v1748478320755!5m2!1ses-419!2smx"
							width="100%"
							height="250"
							style="border:0;"
							allowfullscreen=""
							loading="lazy"
							referrerpolicy="no-referrer-when-downgrade"
						></iframe>
					</div>
				</div>
			</div>
		</div>

		<!-- Pie de página -->
		<p class="text-muted-foreground pt-10 text-center text-sm leading-normal font-medium">
			Copyright {today.getFullYear()} {siteData.name}. Todos los derechos reservados.
		</p>
	</div>
</section>
